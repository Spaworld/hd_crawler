var mboxCurrent=mboxFactories.get('default').get('target-global-mbox',0);mboxCurrent.setEventTime('include.start');document.write('<div style="visibility: hidden; display: none" id="mboxImported-default-target-global-mbox-0">');document.write('<script type=\"text\/javascript\">\r\n    var tAndT = function() {\r\n        jQuery(document).ready(function($) {\r\n            mboxDefine(\'mBoxDiv\', \'Registration_Clicked\');\r\n            mboxDefine(\'mBoxDiv\', \'Registration_Eligible\');\r\n            var timerCount = 1;\r\n            var timerCount2 = 1;\r\nconsole.log(\"T&T\")\r\n            $(document).ajaxComplete(function(event, xhr, settings) {\r\n                if (settings.url.indexOf(\'UserRegistrationLite\') > -1) {\r\n                    mboxUpdate(\"Registration_Clicked\");\r\n                }\r\n            });\r\n\r\n\r\n            var timer = setInterval(function() {\r\n                callYourFunction();\r\n                $(\"[class=\'dual-sign-in-pop-up\']\").click(function() {\r\n                    checkModalView();\r\n                });\r\n                \/\/console.log(\"check this\");\r\n            }, 100);\r\n\r\n            function callYourFunction() {\r\n                timerCount = timerCount + 1;\r\n\r\n                var atl = $(\"#authSignIn\"); \/\/ Check for your field is loaded.\r\n                if (atl.length > 0) {\r\n                    checkSignIn();\r\n                    clearInterval(timer);\r\n                }\r\n                if (timerCount > 100) {\r\n                    clearInterval(timer);\r\n\r\n                }\r\n\r\n            }\r\n\r\n            function checkModalView() {\r\n\r\n                var timer2 = setInterval(function() {\r\n                    checkModalAvail();\r\n                }, 100);\r\n\r\n                function checkModalAvail() {\r\n                    timerCount2 = timerCount2 + 1;\r\n                   \r\n                    var emailModel = $(\"#dualSignIn-registrationEmail\"); \/\/ Check for your field is loaded.\r\n                    if (emailModel.length > 0) {\r\n\t\t\t\t\t setTimeout(function(){\r\n\t\t\t         if(emailModel.is(\":visible\")){\t\t\r\n                        mboxUpdate(\"Registration_Eligible\");\r\n                         }\r\n\t\t\t\t\t\t },300);\r\n                        applyNewField();\r\n                        clearInterval(timer2);\r\n                    }\r\n                    if (timerCount2 > 100) {\r\n                        clearInterval(timer2);\r\n\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            function checkSignIn() {\r\n\r\n                $(\"#authSignIn\").click(function() {\r\n                    checkModalView();\r\n\r\n                });\r\n\r\n                $(\"[class=\'headerMyAccount__link dual-sign-in-pop-up accountProfile\']\").click(function() {\r\n                    checkModalView();\r\n\r\n                });\r\n\r\n                $(\"[class=\'headerMyAccount__link dual-sign-in-pop-up mcmList\']\").click(function() {\r\n                    checkModalView();\r\n\r\n                });\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n            function applyNewField() {\r\n                var lastElement = $($(\"#tab_register\").find(\"div\")[0]).find(\"div.element-holder\")[5];\r\n                $(lastElement).after(\'<div class=\"element-holder\"><div class=\"error\"><p id=\"phoneNumberContainer\" class=\"help-inline error btn-icon regErrorInline\"><i class=\"icon-error\"><\/i> <span id=\"phoneNumberrequired\" class=\"regMandatoryMsg\">Phone Number is required. Please enter a valid 10-digit Phone Number.<\/span><span id=\"phoneNumberinvalid\" class=\"regConditionalMsg\">Please enter a valid 10-digit Phone Number<\/span><\/p><\/div><div class=\"element-label\"><label class=\"reg-dual-control-label\" for=\"phoneNumber\"><span>* <\/span>Phone Number:<\/label><\/div><div class=\"element\"><input id=\"dualSignIn-phoneNumber\" maxlength=\"14\" autocomplete=\"off\" tabindex=\"17\"  type=\"tel\" name=\"phoneNumber\" placeholder=\"(___) ___ - ____\" class=\"width_295px\"><span id=\"errorIcon\" class=\"help-inline error iconsToValidate\"> <i id=\"showImg\"><\/i> <\/span><\/div><\/div>\');\r\n\r\n                $(\"#dualSignIn-phoneNumber\").keyup(function(e) {\r\n                    var code = e.keyCode || e.which;\r\n                    \/\/ console.log(code);\r\n                    var start = this.selectionStart,\r\n                        end = this.selectionEnd;\r\n                    if (code == 37 || code == 39 || code == 8 || code == 46 || (code == 65 && e.ctrlKey) || code == 65 || code == 17) {\r\n                        if (code == 8) {\r\n                            checkPhoneNumberField();\r\n                        }\r\n                        return false;\r\n                    } else {\r\n                        validatePhoneNumberLogic();\r\n                        \/\/this.setSelectionRange(start, end);\r\n                    }\r\n                });\r\n\r\n\r\n                $(\"#dualSignIn-zipcode\").keyup(function() {\r\n                    checkPhoneNumber();\r\n                });\r\n\r\n                function checkErrorMSG() {\r\n                    var isError = false;\r\n                    var visibleElements = $(\'.help-inline.error.btn-icon.regErrorInline:visible\');\r\n                    if (visibleElements.length > 0) {\r\n                        isError = true;\r\n                    }\r\n                    return isError;\r\n                }\r\n\r\n                function checkPhoneNumber() {\r\n                    var timerCount3 = 1;\r\n                    var timer3 = setInterval(function() {\r\n                        checkphoneAvail();\r\n                    }, 100);\r\n\r\n\r\n\r\n                    function checkphoneAvail() {\r\n                        timerCount3 = timerCount3 + 1;\r\n\r\n                        var phoneModel = $(\"#dualSignIn-phoneNumber\").val(); \/\/ Check for your field is loaded.\t\t\t\t\t\r\n                        var zipModel = $(\"#dualSignIn-zipcode\").val();\r\n\r\n                        if (phoneModel.length == 0) {\r\n                            $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                        } else if ($(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g)) {\r\n                            var phoneNumbervalue = $(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g).join(\"\");\r\n                            if (phoneNumbervalue.length == 10 && !checkErrorMSG() && !checkOtherFields() && zipModel.length == 5) {\r\n                                $(\"#dualSignIn-Register\").removeAttr(\'disabled\');\r\n                            } else {\r\n                                $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                            }\r\n                            if (timerCount3 > 20) {\r\n                                clearInterval(timer3);\r\n                            }\r\n                        } else {\r\n                            $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                            if (timerCount3 > 20) {\r\n                                clearInterval(timer3);\r\n                            }\r\n                        }\r\n                        if (timerCount3 > 100) {\r\n                            clearInterval(timer3);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                $(\'input\').on(\'focusout\', function() {\r\n                    setTimeout(function() {\r\n                        if ($(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g)) {\r\n                            var phoneNumbervalue = $(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g).join(\"\");\r\n                            visibleElements = $(\'.help-inline.error.btn-icon.regErrorInline:visible\');\r\n                            if (phoneNumbervalue.length == 10 && visibleElements.length == 0 && !checkOtherFields()) {\r\n                                $(\"#dualSignIn-Register\").removeAttr(\'disabled\');\r\n                            } else if (phoneNumbervalue.length < 10) {\r\n                                $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                            } else if (visibleElements.length > 0) {\r\n                                $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                            }\r\n                        }\r\n                    }, 500);\r\n                });\r\n\r\n\r\n                $(\'#dualSignIn-phoneNumber\').keypress(function(evt) {\r\n                    evt = (evt) ? evt : window.event;\r\n                    var charCode = (evt.which) ? evt.which : evt.keyCode;\r\n                    if (charCode > 31 && charCode != 37 && (charCode < 48 || charCode > 57) && charCode != 39 && charCode != 46 && charCode != 65 && charCode != 17) {\r\n                        return false;\r\n                    }\r\n                    return true;\r\n                });\r\n\r\n                $(\'#dualSignIn-phoneNumber\').on(\'focusout\', function() {\r\n\r\n                    setTimeout(function() {\r\n                        if ($(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g)) {\r\n                            var phoneNumbervalue = $(\"#dualSignIn-phoneNumber\").val().match(\/\\d\/g).join(\"\");\r\n                            if (!phoneNumbervalue) {\r\n                                setTimeout(function() {\r\n                                    callError(phoneNumbervalue);\r\n                                }, 500);\r\n                            } else if (phoneNumbervalue.length < 10 && !validatePhonenumber(phoneNumbervalue)) {\r\n                                callErrorStyle();\r\n                                $(\"#phoneNumberrequired\").removeClass(\"show\");\r\n                            } else if (checkOtherFields()) {\r\n                                $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                            }\r\n                        } else {\r\n                            callErrorStyle();\r\n                            $(\"#phoneNumberrequired\").removeClass(\"show\");\r\n                        }\r\n                    }, 400);\r\n\r\n                });\r\n\r\n                function checkPhoneNumberField() {\r\n                    var phoneNumbervalue = $(\"#dualSignIn-phoneNumber\").val();\r\n                    if (phoneNumbervalue.match(\/\\d\/g)) {\r\n                        var phoneNumbervalue2 = phoneNumbervalue.match(\/\\d\/g).join(\"\");\r\n                        if (phoneNumbervalue2.length <= 10) {\r\n                            $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                        }\r\n                    }\r\n\r\n                }\r\n\t\t\t\t\r\nvar count = 0;\t\t\t\r\n$(\".nav-two\").click(function() {\r\n    var timerCount4 = 1;\r\n    var timer4 = setInterval(function() {\r\n        checkModelLoaded();\r\n    }, 100);\r\n\t\r\n\t \r\n\tfunction checkModelLoaded() {   \r\n    var emailModel = $(\"#dualSignIn-registrationEmail\");\r\n    if (emailModel.is(\":visible\") ) {\r\n        if(count == 0){\r\n         count++;\r\n        mboxUpdate(\"Registration_Eligible\");\r\n         }\r\n        clearInterval(timer4);\r\n    }\r\n\r\n\r\n\r\n    if (timerCount4 > 100) {\r\n        clearInterval(timer4);\r\n    }\r\n}\r\n\r\n});\r\n\r\n\r\n\r\n\r\n                function validatePhoneNumberLogic() {\r\n\r\n\r\n                    var phoneNumbervalue = $(\"#dualSignIn-phoneNumber\").val();\r\n                    if (phoneNumbervalue.match(\/\\d\/g)) {\r\n                        var phoneNumbervalue2 = phoneNumbervalue.match(\/\\d\/g).join(\"\");\r\n                        if (phoneNumbervalue2.length >= 10 && validatePhonenumber(phoneNumbervalue)) {\r\n                            $(\"#errorIcon\").show();\r\n                            $(\"#showImg\").addClass(\'icon-pass\').removeClass(\'icon-fail\');\r\n                            if (!checkOtherFields()) {\r\n                                setTimeout(function() {\r\n                                    $(\"#dualSignIn-Register\").removeAttr(\'disabled\');\r\n                                }, 300);\r\n                            }\r\n                            $(\"#phoneNumberrequired\").removeClass(\"show\");\r\n                            $(\"#phoneNumberinvalid\").removeClass(\"show\");\r\n                            $(\"#phoneNumberContainer\").hide();\r\n                        } else if (phoneNumbervalue2.length >= 10 && !validatePhonenumber(phoneNumbervalue)) {\r\n                            callErrorStyle();\r\n                        } else if (phoneNumbervalue2.length == 10 && !validatePhonenumber(phoneNumbervalue)) {\r\n                            callErrorStyle();\r\n                        } else if (phoneNumbervalue2.length <= 10) {\r\n                            $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                        }\r\n                    }\r\n\r\n                    if (phoneNumbervalue.match(\/\\d\/g)) {\r\n                        var valueNum = phoneNumbervalue.match(\/\\d\/g).join(\"\");\r\n                        var valueNum2 = phoneNumbervalue;\r\n                        if (phoneNumbervalue2.length == 3 && phoneNumbervalue2.length <= 10) {\r\n                            var maxVal, maxVal2, maxVal3;\r\n                            if (phoneNumbervalue2.length == 3 && valueNum2.length == 5) {\r\n                                maxVal = valueNum.substring(0, 3);\r\n                                $(\"#dualSignIn-phoneNumber\").val(\"(\" + maxVal + \")\");\r\n                            }\r\n                        } else if (phoneNumbervalue2.length == 6 && phoneNumbervalue2.length <= 10) {\r\n                            maxVal = valueNum.substring(0, 3);\r\n                            maxVal2 = valueNum.substring(3, 6);\r\n                            $(\"#dualSignIn-phoneNumber\").val(\"(\" + maxVal + \")\" + \" \" + maxVal2);\r\n\r\n                        } else if (phoneNumbervalue2.length >= 7) {\r\n                            maxVal = valueNum.substring(0, 3);\r\n                            maxVal2 = valueNum.substring(3, 6);\r\n                            maxVal3 = valueNum.substring(6, 10);\r\n                            $(\"#dualSignIn-phoneNumber\").val(\"(\" + maxVal + \")\" + \" \" + maxVal2 + \"-\" + maxVal3);\r\n\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                function callError(phoneNumbervalue) {\r\n                    if (!phoneNumbervalue) {\r\n                        $(\"#phoneNumberContainer\").show();\r\n                        $(\"#errorIcon\").show();\r\n                        $(\"#showImg\").removeClass(\'icon-pass\').addClass(\'icon-fail\');\r\n                        $(\"#phoneNumberrequired\").addClass(\"show\");\r\n                        $(\"#phoneNumberinvalid\").removeClass(\"show\");\r\n                        $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n\r\n                    }\r\n                }\r\n\r\n                function callErrorStyle() {\r\n                    $(\"#showImg\").removeClass(\'icon-pass\').addClass(\'icon-fail\');\r\n                    $(\"#phoneNumberContainer\").show();\r\n                    $(\"#phoneNumberinvalid\").addClass(\"show\");\r\n                    $(\"#phoneNumberrequired\").removeClass(\"show\");\r\n                    $(\"#dualSignIn-Register\").attr(\"disabled\", \'disabled\');\r\n                    $(\"#errorIcon\").show();\r\n                }\r\n\r\n                function validatePhonenumber(test1) {\r\n                    test1 = test1.replace(\"-\", \"\").replace(\" \", \"\");\r\n                    var pattern = new RegExp(\/\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})\/);\r\n\r\n                    return pattern.test(test1);\r\n                }\r\n\r\n                function checkOtherFields() {\r\n                    isError = true;\r\n                    var email = $(\"#dualSignIn-registrationEmail\").val();\r\n                    var password = $(\"#dualSignIn-registrationPassword\").val();\r\n                    var zip = $(\"#dualSignIn-zipcode\").val();\r\n\r\n                    if (email.length > 0 && password.length > 0 && zip.length > 0) {\r\n                        isError = false;\r\n                    }\r\n                    return isError;\r\n\r\n                }\r\n            }\r\n        });\r\n    };\r\n    if (typeof jQuery !== \'undefined\') {\r\n        tAndT(jQuery);\r\n    } else {\r\n        DIGITAL_EMITTER.on(\'jquery-ready\', tAndT);\r\n    }\r\n<\/script>');document.write('<script type=\"text\/javascript\">\r\n\/*T&T to SiteCat v3 ==>Response Plugin*\/\r\nwindow.s_tnt=window.s_tnt||\'\',tntVal=\'80091:0:0,\';\r\nif(window.s_tnt.indexOf(tntVal)==-1){window.s_tnt+=tntVal}\r\n<\/script>\r\n\r\n');document.write('<script type=\"text\/javascript\">\r\n \r\nif(typeof(testversion) == \'undefined\'){\r\n \r\n var testversion = \'PC | Registration Extra Field | LIVE 9.23.16:Extra Field\';\r\n \r\n  } else {\r\n \r\ntestversion += \'^\' + \'PC | Registration Extra Field | LIVE 9.23.16:Extra Field\';\r\n  }\r\n \r\n<\/script>');document.write('</div>');mboxCurrent.setEventTime('include.end');mboxFactories.get('default').get('target-global-mbox',0).loaded();